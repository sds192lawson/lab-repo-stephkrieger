---
title: 'Lab #1: R and Understanding Datasets (30 pts)'
author: "Eliel Toukam Nkamta"
format:
  html:
    embed-resources: true
editor: source
knitr:
  opts_chunk:
    message: false
---

## Questions

::: {.callout-important}
###### Question 1 (5 pts)
See if you can identify a unique key for this dataset. Write some lines of code to determine whether the column you've identified can act as unique key for the data. Hint: You need to check whether the values in the column ever repeat.

```{r}
library(tidyverse)
library(rscorecard)
sc_key("7xzShZh4P3iogvNXZtPLGcjAu05aqdmgQ6FX1iF1") # Replace with your own token!!

scorecard <- sc_init() |>
  sc_year(2022) |>                 #Note how we are looking at only 2024 data here!
  sc_filter(stabbr == "MA") |>     #Note how we are looking at only Massachusetts data here!
  sc_select(unitid, instnm, city, highdeg, control, ugds, adm_rate, costt4_a, costt4_p, pcip27, pctfloan, admcon7, wdraw_orig_yr2_rt, cdr3) |>
  sc_get()
```



```{r}
# Write code to calculate number of rows in scorecard
nrow(scorecard)

# Write code to calculate the number of unique values in the column you've identified as a unique key 
scorecard $ unitid |> unique() |> length() 

# Do these numbers match? yes !
##TA Feedback: Nice job your numbers match, +3 for trying and using nrow, +3 for using the right key and unique
##Q1 Total: 6 points
```


:::

::: {.callout-important}
###### Question 2 (5 pts)
At this point, you've probably figured out that each row in this dataset is a higher education institution. However, there are many different ways that we can define higher education institutions, and that will impact what gets included and excluded in our data. Referencing the Technical Documentation, locate a definition for the unit of observation in this dataset. What institutions are included, and what institutions are excluded? Summarize a definition below.

#Post graduate Institutions that participate receive Federal Financial aid and participate in title IV programs are included in addition to those that meet similar criteria while post graduate institutions that do not receive federal financial aid and do not participate in Title IV programs are excluded.
##TA Feeback: No need to put a hashtag when you're not in a code block. Good definition though, +5
##Total for Q1-Q2: 11
:::

::: {.callout-important}

###### Question 3 (5 pts)
For each of the variable names in the `scorecard` data frame, look up the associated name in the data dictionary. You will need to search for the variable name in the sixth column of the data dictionary (I recommend using Ctrl-F to quickly locate the variable name in the spreadsheet.) Once you've found the variable name, reference column 1 to determine what this variable means, and reference columns 7 and 8 to see what possible values will appear in that column.

Identify one nominal variable, one ordinal variable, one discrete variable, and one continuous variable in `scorecard` and list their variable names below. Then uncomment the lines below and use the `typeof()` function to see how `R` determined their data types. Did any surprise you?

```{r}
typeof(scorecard$highdeg)
typeof(scorecard$unitid)
typeof(scorecard$ugds)
typeof(scorecard$adm_rate)

#I was surprised because I expected to see ordinal, nominal and discrete datatypes but I rather saw double and interger datatypes.
#TA Feedback: it depends on which columns you chose, there are character (nominal/ordinal) variables in the dataset you just didn't ask their type 
#TA Feedback: +5 for correct types and for writing was surprised you
#Total for Q1-Q3: 16
```

:::

::: {.callout-important}
###### Question 4 (5 pts)
Write code below to recode the `admcon7` variable and store the results in a new variable in `scorecard` called `admcon7_text`. You'll need to look up the values in the data dictionary. If you've done this correctly, running this code should produce a barplot that displays multiple bars.

```{r}
scorecard$admcon7_text <-
  recode(
    scorecard$admcon7, 
    "1" = "Required",
    "2" = "Recommended", 
    "3" = "Neither required nor recommended",
    "4" = "Do not know",
    "5" = "Considered but not required",
    .default = NA_character_
  )

ggplot(scorecard, aes(x = admcon7_text)) +
  geom_bar() +
  coord_flip() 
#TA Feedback: your graph looks perfect!! +5
#Total for Q1-Q4: 21
```


:::

::: {.callout-important}

###### Question 5 (5 pts)
In a code chunk below, calculate the number of missing values in both the `costt4_a` and the `costt4_p` columns. Reference the NOTES column in the data dictionary to determine why there are so many `NA` values in these columns. Add a comment to the code chunk below, explaining the reason for missing values in these columns.

```{r}
is.na(scorecard$costt4_a)
is.na(scorecard$costt4_p)

#There are many missing values because costt4_a represents total cost of attendance for full time students that are first time undergraduate degree seekers and who receive title IV aid. There is an immense criteria that makes some observations missing.
##TA Feedback: -2 costt4_a is only calculated for academic year institutions, while costt4_p is calculated for program year institutions. Its not about the student its about the university itself
#Total for Q1-Q5: 24 points

```

:::

::: {.callout-important}

###### Question 6 (5 pts)

#Referencing the College Scorecard data documentation, see if you can determine which students are included in calculations of earnings and debt. How might the dataâ€™s coverage bias the values that get reported? What might be the social consequences of these biases? Share your ideas on our discussions Slack channel.

# Students included in the measurement of earnings are Title IV receiving students not currently enrolled and the debts measurement excluded students who received any form of deferment like in-school and included those on default loan payment. Since the data coverage excludes people currently enrolled, that big fraction that is excluded doesn't count that some students may be enrolled and also working which could have increased the observations, Additionally not everyone in institutions are of Title IV. It may not be clear that this data is restricted to only students of the above criteria which can be misleading.

##TA Feedback: I would have appreaciated a bit more about the social consequences of this but otherwise nice job. Like what happens if the data is misleading, how do people now think of the schools becuase of this? +2.5
##Total for Q1-Q6: 26.5/30 or 88.33%



:::+

